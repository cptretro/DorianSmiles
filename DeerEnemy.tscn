[gd_scene load_steps=8 format=3 uid="uid://bikkcglouvm7m"]

[ext_resource type="Script" path="res://Scripts/DeerAi.gd" id="1_hum4y"]
[ext_resource type="PackedScene" uid="uid://dgcekvajyprh4" path="res://deerhorse.tscn" id="2_1hf0g"]
[ext_resource type="Script" path="res://Scripts/State Machine.gd" id="2_10wwf"]
[ext_resource type="Script" path="res://Scripts/DeerWander.gd" id="3_ltsyd"]
[ext_resource type="Script" path="res://Scripts/DeerGrazing.gd" id="4_ms67j"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_1lcyt"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_aplau"]

[node name="DeerEnemy" type="CharacterBody3D"]
script = ExtResource("1_hum4y")

[node name="deerhorse" parent="." instance=ExtResource("2_1hf0g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="deer_1" parent="deerhorse/horse_rig/Skeleton3D" index="0"]
transform = Transform3D(0.00235367, 1.05257, -0.0157891, -0.00328022, -0.0120846, -1.02277, -0.928337, 0.00599837, 0.124348, -0.0675289, 0.438537, 0.634214)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_1lcyt")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_aplau")

[node name="State Machine" type="Node" parent="."]
script = ExtResource("2_10wwf")
initial_state = Object(Node,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","script":ExtResource("3_ltsyd"),"enemy":Object(CharacterBody3D,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","transform":Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0),"rotation_edit_mode":0,"rotation_order":2,"top_level":false,"visible":true,"visibility_parent":NodePath(""),"disable_mode":0,"collision_layer":1,"collision_mask":1,"collision_priority":1.0,"input_ray_pickable":true,"input_capture_on_drag":false,"axis_lock_linear_x":false,"axis_lock_linear_y":false,"axis_lock_linear_z":false,"axis_lock_angular_x":false,"axis_lock_angular_y":false,"axis_lock_angular_z":false,"motion_mode":0,"up_direction":Vector3(0, 1, 0),"slide_on_ceiling":true,"velocity":Vector3(0, 0, 0),"max_slides":6,"wall_min_slide_angle":0.261799,"floor_stop_on_slope":true,"floor_constant_speed":false,"floor_block_on_wall":true,"floor_max_angle":0.785398,"floor_snap_length":0.1,"platform_on_leave":0,"platform_floor_layers":4294967295,"platform_wall_layers":0,"safe_margin":0.001,"script":ExtResource("1_hum4y"),"health":10,"state_manager":null,"player":null)
,"move_speed":2.0,"wander_range":5)


[node name="DeerIdle" type="Node" parent="State Machine" node_paths=PackedStringArray("enemy")]
script = ExtResource("3_ltsyd")
enemy = NodePath("../..")

[node name="DeerWander" type="Node" parent="State Machine" node_paths=PackedStringArray("enemy")]
script = ExtResource("3_ltsyd")
enemy = NodePath("../..")

[node name="DeerGrazing" type="Node" parent="State Machine"]
script = ExtResource("4_ms67j")

[node name="VisibleOnScreenEnabler3D" type="VisibleOnScreenEnabler3D" parent="."]

[connection signal="Transitioned" from="State Machine/DeerGrazing" to="." method="_on_deer_grazing_transitioned"]

[editable path="deerhorse"]
